% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/correlation.R
\name{CorrelationParameters}
\alias{CorrelationParameters}
\title{Class: Correlation parameters}
\description{
Class: Correlation parameters

Class: Correlation parameters
}
\details{
This class implements functionality that allows interventions to be
correlated, positively or negatively. By default, interventions are applied
independently and an individual's probability of receiving two interventions
(either two separate interventions or two rounds of the same one) is the
product of the probability of receiving each one.

By setting a positive correlation between two interventions, we can make it
so that the individuals that receive intervention A are more likely to
receive intervention B. Conversely, a negative correlation will make it such
that individuals that receive intervention A are less likely to also receive
intervention B.

Broadly speaking, the implementation works by assigning at startup a weight
to each individual and intervention pair, reflecting how likely an individual
is to receive that intervention. Those weights are derived stochastically
from the configured correlation parameters.

For a detailed breakdown of the calculations, see Protocol S2 of
Griffin et al. (2010).
Derive the mvnorm from the configured correlations.

If a \code{restored_mvnorm} is specified, its columns (corresponding to
restored interventions) will be re-used as is. Missing columns (for new
interventions) are derived in accordance with the restored data.
}
\section{Methods}{
\subsection{Public methods}{
\itemize{

\item \href{#method-new}{\code{CorrelationParameters$new()}}
\item \href{#method-inter_round_rho}{\code{CorrelationParameters$inter_round_rho()}}
\item \href{#method-inter_intervention_rho}{\code{CorrelationParameters$inter_intervention_rho()}}
\item \href{#method-sigma}{\code{CorrelationParameters$sigma()}}
\item \href{#method-mvnorm}{\code{CorrelationParameters$mvnorm()}}
\item \href{#method-clone}{\code{CorrelationParameters$clone()}}
\item \href{#method-CorrelationParameters-new}{\code{CorrelationParameters$new()}}
\item \href{#method-CorrelationParameters-inter_round_rho}{\code{CorrelationParameters$inter_round_rho()}}
\item \href{#method-CorrelationParameters-inter_intervention_rho}{\code{CorrelationParameters$inter_intervention_rho()}}
\item \href{#method-CorrelationParameters-sigma}{\code{CorrelationParameters$sigma()}}
\item \href{#method-CorrelationParameters-mvnorm}{\code{CorrelationParameters$mvnorm()}}
\item \href{#method-CorrelationParameters-save_state}{\code{CorrelationParameters$save_state()}}
\item \href{#method-CorrelationParameters-restore_state}{\code{CorrelationParameters$restore_state()}}
\item \href{#method-CorrelationParameters-clone}{\code{CorrelationParameters$clone()}}

}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-new"></a>}}
\if{latex}{\out{\hypertarget{method-new}{}}}
\subsection{Method \code{new()}}{
initialise correlation parameters
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CorrelationParameters$new(population, interventions)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{population}}{popularion size}

\item{\code{interventions}}{character vector with the name of enabled interventions}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-inter_round_rho"></a>}}
\if{latex}{\out{\hypertarget{method-inter_round_rho}{}}}
\subsection{Method \code{inter_round_rho()}}{
Add rho between rounds
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CorrelationParameters$inter_round_rho(int, rho)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{int}}{string representing the intervention to update}

\item{\code{rho}}{value between 0 and 1 representing the correlation between rounds of
the intervention}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-inter_intervention_rho"></a>}}
\if{latex}{\out{\hypertarget{method-inter_intervention_rho}{}}}
\subsection{Method \code{inter_intervention_rho()}}{
Add rho between interventions
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CorrelationParameters$inter_intervention_rho(int_1, int_2, rho)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{int_1}}{string representing the first intervention}

\item{\code{int_2}}{string representing the second intervention (intechangable
with int_1)}

\item{\code{rho}}{value between -1 and 1 representing the correlation between rounds of
the intervention}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-sigma"></a>}}
\if{latex}{\out{\hypertarget{method-sigma}{}}}
\subsection{Method \code{sigma()}}{
Standard deviation of each intervention between rounds
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CorrelationParameters$sigma()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-mvnorm"></a>}}
\if{latex}{\out{\hypertarget{method-mvnorm}{}}}
\subsection{Method \code{mvnorm()}}{
multivariate norm draws for these parameters
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CorrelationParameters$mvnorm()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}

\if{html}{\out{<a id="method-clone"></a>}}
\if{latex}{\out{\hypertarget{method-clone}{}}}

\if{html}{\out{<a id="method-CorrelationParameters-save_state"></a>}}
\if{latex}{\out{\hypertarget{method-CorrelationParameters-save_state}{}}}
\subsection{Method \code{save_state()}}{
Save the correlation state.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CorrelationParameters$save_state()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CorrelationParameters-restore_state"></a>}}
\if{latex}{\out{\hypertarget{method-CorrelationParameters-restore_state}{}}}
\subsection{Method \code{restore_state()}}{
Restore the correlation state.

Only the randomly drawn weights are restored. The object needs to be
initialized with the same rhos.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CorrelationParameters$restore_state(timestep, state)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{timestep}}{the timestep at which simulation is resumed. This
parameter's value is ignored, it only exists to conform to a uniform
interface.}

\item{\code{state}}{a previously saved correlation state, as returned by the
save_state method.}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-CorrelationParameters-clone"></a>}}
\if{latex}{\out{\hypertarget{method-CorrelationParameters-clone}{}}}

\subsection{Method \code{clone()}}{
The objects of this class are cloneable with this method.
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{CorrelationParameters$clone(deep = FALSE)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{deep}}{Whether to make a deep clone.}
}
\if{html}{\out{</div>}}
}
}
}
